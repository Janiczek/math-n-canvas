<!DOCTYPE html> 
 
<html> 
 
	<head> 
 
        <meta charset="utf-8"> 
 
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script type="text/javascript" src="http://jashkenas.github.com/coffee-script/extras/coffee-script.js"></script>
        
        <script type="text/coffeescript"> 

          $ ->

            s1 = 0
            l2 = 0
            h3 = 0
            mvt = 1

            animate = ->

              s1 += mvt
              l2 += mvt
              h3 += mvt

              if s1 < 0 or s1 > 15
                mvt *= -1 

              redraw()
              setTimeout animate,50

            redraw = ->

              for h1 in [0..15]
                for l1 in [0..15]
                  p_sat_c.fillStyle = "hsl(#{h1*24},
                                         #{Math.floor s1*100/15}%,
                                         #{Math.floor l1*100/15}%)"
                  p_sat_c.fillRect h1 * 15,
                                 l1 * 15,
                                 (h1+1) * 15,
                                 (l1+1) * 15

              for h2 in [0..15]
                for s2 in [0..15]
                  p_light_c.fillStyle = "hsl(#{h2*24},
                                         #{Math.floor s2*100/15}%,
                                         #{Math.floor l2*100/15}%)"
                  p_light_c.fillRect h2 * 15,
                                 s2 * 15,
                                 (h2+1) * 15,
                                 (s2+1) * 15

              for s3 in [0..15]
                for l3 in [0..15]
                  p_hue_c.fillStyle = "hsl(#{h3*24},
                                         #{Math.floor s3*100/15}%,
                                         #{Math.floor l3*100/15}%)"
                  p_hue_c.fillRect s3 * 15,
                                 l3 * 15,
                                 (s3+1) * 15,
                                 (l3+1) * 15

            p_sat   = $('#p_sat')[0]
            p_light = $('#p_light')[0]
            p_hue   = $('#p_hue')[0]

            if p_sat and p_light and p_hue and
               p_sat.getContext and
               p_light.getContext and
               p_hue.getContext

              p_sat_c   = p_sat.getContext '2d'
              p_light_c = p_light.getContext '2d'
              p_hue_c   = p_hue.getContext '2d'

              animate()

        </script> 
 
        <title>HSL animated color palettes</title> 
 
    </head> 
 
    <body> 
        
    <canvas id=p_hue   width=255 height=255>Update your browser!</canvas>
    <canvas id=p_sat   width=255 height=255>Update your browser!</canvas>
    <canvas id=p_light width=255 height=255>Update your browser!</canvas>
        
    <br>
    <a href="../index.htm">Back to the index</a>    
    
    </body> 
 
</html> 
